# 实训项目

<hr>

### Day 1. 06.18

#### 1. 项目进度

- 配置路由骨架
- 配置redux和请求接口
- 二次封装组件库组件

#### 2. 所用技术

#### 3. 总结收获



### Day 2. 06.19

#### 1. 项目进度

- 完成首页的头部
- 完成首页轮播图

#### 2. 所用技术

#### 3. 总结收获

- redux-logger中间件提供一个生成器createLogger，可以生成日志中间件
- loggerredux-thunk 中间件改造store.dispatch，使得后者可以接受函数作为参数
- redux-promise 中间件使得store.dispatch方法可以接受 Promise 对象作为参数
  



### Day 3. 06.20

#### 1. 项目进度

- 完成首页日报列表功能
  - 循环获取当天日报
  - 无限滚动加载之前的日报并用时间分割
  - 对以及点击过的日报进行颜色虚化处理
- 完成日报详细功能
  - 完成底部图标布局与后退键效果
  - 用dangerouslySetInnerHTML转化文本内容
  - 完成图片与样式的处理

- 使用useState, useEffect钩子来进行数据通信与改变时再次渲染
- 使用async和await来进行异步加载
- 使用IntersectionObserver监听器来监听是否到达底部，是否需要加载过去的日报
- dangerouslySetInnerHTML标签的使用
  - dangerouslySetInnerHTML={{__html: xxx}}在react中插入html，将文本中带有的html格式转化为html形式展示
- useEffect销毁组件，移除创建的样式
- 添加与移除节点，（添加节点样式记得移除）

#### 3. 总结收获

- 如何处理显示隐藏操作：

  - 1.控制其是否渲染，在组织结构中是否存在，无数据不渲染（不能获取其Dom）

  - 2.控制元素的样式【display】，不管有无数据均会渲染（可以获取其Dom）

  - 对于数据不经常变化的使用方案一，加快页面呈现速度；对于选项卡之类频繁切换的选用方案二，

    不用频繁去创建和销毁元素。

- 在组件释放时，React内部会与不会移除的类别

  - 会自动移除：
    - 虚拟Dom
    - 真实的Dom
    - 合成事件的绑定
  - 不会自动移除：（性能优化，手动移除）
    - 定时器
    - 监听器
    - addEventListener/link



### Day 4. 06.25

#### 1. 项目进度

- 完成登录注册页
  - 完成页面布局与样式设计
  - 完成手机号与验证码的校验
  - 完成验证码倒计时的防抖（setInterval，二次封装button）
- 完成redux存储个人信息
- 完成路由守卫、跳转
  - 判断是否需要登录才能访问
  - 路由执行 ： 其他 ---》需要登录   ----》如果没有登录，则渲染载入部分但原路由不变（方便后退），后将登录路由置顶，进入登录区域
  - 每次判断都要更新组件（当刷新页面时，redux存储会丢失）

#### 2. 所用技术

-  自定义表单校验规则
- 二次封装Button
- 验证码的setInterval防抖
- redux派发任务
- hook方式的路由守卫

#### 3. 总结收获

- 细节处理，比如在路由守卫中，历史连接如何处理，如何跳转？
  - 进入页面后需要验证被拦截是先跳登录页后再跳回该页面，路由处理用push
  - 进入页面后需要验证被拦截直接显示该路由，但做加载中，后跳往登录页，路由处理用replace

![image-20230625210905421](C:/Users/Administrator/AppData/Roaming/Typora/typora-user-images/image-20230625210905421.png)







### Day 5. 06.26

#### 1. 项目进度

- 完成日报详细页的收藏操作
  - 判断是否登录，获取登录信息
  - 依赖于收藏列表和路径参数，计算是否收藏
  - 点击收藏按钮的操作：收藏与取消收藏
- 完成个人页面
- 完成个人信息更新页面
  - ImageUploader的使用
- 完成404页面

#### 2. 所用技术

- redux中的useMemo action 与 store的配合，存储与派发

#### 3. 总结收获

- middleware增强store，与reduxLogger 、reduxThunk、reduxPromise三大中间件不会使用
  







### 技术亮点

- 技术难点
  - 大屏可视化
  - 地图插件
  - 音频插件
  - 游戏引擎
  - pdf与word文件流和打印的处理
- 业务逻辑的复杂度
- 细节的复杂度
- 封装和优化的亮点





项目难点与亮点    点击收藏按钮能否加个防抖，防止多次请求

- 难点
  - 路由守卫，路由跳转的逻辑问题
  - redux的使用
- 亮点
  - 多个组件的二次封装
  - 组件缓存（keep-alive）  首页到详情页，详情页回到之前首页的位置